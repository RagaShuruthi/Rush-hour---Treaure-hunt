<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Level 4 ‚Äì Straw Relay</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family: 'Poppins', sans-serif;
  background: #2b1d16;
  color: #f2e1c1;
  padding: 14px;
}

.header {
  width: 100%;
  background: #1c120e;
  padding: 12px 16px;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 1000;
  height: 70px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  font-weight: 700;
  color: #e6c9a8;
}

.page-wrapper {
  position: fixed;
  top: 70px;
  bottom: 50px;
  left: 0;
  right: 0;
  overflow-y: auto;
  padding: 20px;
  box-sizing: border-box;
  width: 100%;
}

.level-title {
  font-size: 22px;
  font-weight: 700;
  color: #d9b38c;
  margin-bottom: 16px;
  text-align: left;
}

.desc-box {
  width: 100%;
  max-width: 650px;
  background: rgba(255,248,240,0.06);
  border: 1px solid rgba(217,179,140,0.3);
  padding: 18px 20px;
  border-radius: 12px;
  font-size: 16px;
  line-height: 1.6;
  text-align: justify;
  margin: auto;
}

.code-section {
  margin-top: 30px;
  width: 100%;
  max-width: 320px;
  margin: auto;
}

.code-section input {
  width: 100%;
  padding: 12px;
  font-size: 16px;
  border-radius: 8px;
  border: 1px solid rgba(217,179,140,0.3);
  background: rgba(255,255,255,0.1);
  color: white;
  outline: none;
  text-align: center;
  font-weight: 600;
  box-sizing: border-box;
}

.submit-btn {
  margin-top: 18px;
  padding: 12px;
  font-size: 16px;
  background: #8b5e3c;
  border-radius: 8px;
  border: none;
  color: #fff;
  font-weight: 700;
  width: 100%;
  cursor: pointer;
}

#clueBox {
  display: none;
  margin-top: 24px;
  padding: 16px;
  background: rgba(255,255,255,0.08);
  border: 2px solid rgba(217,179,140,0.3);
  border-radius: 12px;
  font-size: 18px;
  font-weight: 700;
  color: #fff8d2;
  text-align: center;
}

#nextLevelBtn {
  display: none;
  margin-top: 16px;
  background:#4caf50;
  color:#000;
  font-size:18px;
  font-weight:700;
}

footer {
  text-align: center;
  padding: 14px;
  background: #1a0f0b;
  font-size: 13px;
  color: #c69c6d;
  width: 100%;
  position: fixed;
  bottom: 0;
  height: 50px;
  left: 0;
  box-sizing: border-box;
  font-weight:600;
}
</style>
</head>

<body>

<div class="header">Rush Hour - 2026</div>

<div class="page-wrapper">

  <div class="level-title">Level 4 ‚Äì Tower & Flip</div>

  <div class="desc-box">
     Member 1 must lift and hold a small square paper using only straw suction (no hands allowed) and carefully walk it to their partner. The partner can collect the paper with their hands once delivered. This pass must be completed 5 successful times without dropping or touching the paper by hand. If all 5 transfers are clean, the level is completed and the final riddle is unlocked. Focus, balance, and teamwork are the keys to finish strong!
  </div>

  <div class="code-section">
    <input placeholder="Enter Unlock Code" id="unlockCode">
    <button class="submit-btn" onclick="verifyCode()">Submit Code</button>
  </div>

  <div id="clueBox">
     üìç I am not a car, I am not a train, I carry crowds in sun and rain.
  </div>

  <button id="nextLevelBtn" class="submit-btn" onclick="goToLevel5()">
     Move to Level 5
  </button>

</div>

<footer>¬© 2026 Rush Hour | Level 4 Challenge</footer>

<script>
let level1 = localStorage.getItem("level1_done");

function verifyCode(){
  let entered = document.getElementById("unlockCode").value.trim().toUpperCase();
  let correct = "V56N67M89";

  if(entered === correct){
     document.getElementById("clueBox").style.display = "block";
     document.getElementById("nextLevelBtn").style.display = "block";
     document.getElementById("unlockCode").disabled = true;
  } else {
     alert("‚ùå Wrong Code ü©∂ Try again!");
  }
}

function goToLevel5(){
  window.location.href = "/level5";
}

// üö´ Block Level 4 page if Level 1 not completed
if(level1 !== "true"){
  if(window.location.pathname.toLowerCase().includes("level4") ||
     window.location.pathname.toLowerCase().includes("level5") ||
     window.location.pathname.toLowerCase().includes("level6")){
        document.body.innerHTML = "";
        document.body.style.display="flex";
        document.body.style.justifyContent="center";
        document.body.style.alignItems="center";
        document.body.style.height="100vh";
        document.body.style.fontSize="24px";
        document.body.style.color="#ffb0b0";
        document.body.style.fontWeight="700";
        document.body.innerText = "‚ùó Complete Level 1 first to continue!";
  }
}

// ‚ùå Disable Back Button
history.pushState(null, null, location.href);
window.onpopstate = function () {
  history.go(1);
};
</script>

</body>
</html>
